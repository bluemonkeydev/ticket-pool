services:
  web:
    build: .
    ports:
      - "5100:5000"
    labels:
      - "com.centurylinklabs.watchtower.enable=false"
    environment:
      - SECRET_KEY=${SECRET_KEY:-change-this-secret-key-in-production}
      - DATABASE=/data/tickets.db
      # AWS SES Email Configuration
      - MAIL_ENABLED=${MAIL_ENABLED:-false}
      - AWS_REGION=${AWS_REGION:-us-east-1}
      - AWS_ACCESS_KEY_ID=${AWS_ACCESS_KEY_ID}
      - AWS_SECRET_ACCESS_KEY=${AWS_SECRET_ACCESS_KEY}
      - SES_SENDER_EMAIL=${SES_SENDER_EMAIL:-noreply@example.com}
      # App Configuration
      - APP_NAME=${APP_NAME:-Ticket Allocation}
      - APP_URL=${APP_URL:-http://localhost:5000}
    volumes:
      - ticket_data:/data
    restart: unless-stopped

volumes:
  ticket_data:
